-- Initial shelly-testsuite.cabal generated by cabal init.  For further 
-- documentation, see http://haskell.org/cabal/users-guide/

name:                shelly-testsuite
version:             0.1.0.0
license:             BSD3
license-file:        LICENSE
author:              Greg Weber
-- maintainer:          
-- copyright:           
category:            System
build-type:          Simple
cabal-version:       >=1.8

Flag lifted
   Description: run the tests against Shelly.Lifted
   Default: False

Executable shelly-testsuite
  hs-source-dirs: ../src/ src
  main-is: TestMain.hs
  ghc-options: -O2 -Wall -fhpc -fwarn-tabs -funbox-strict-fields -threaded
               -fno-warn-unused-do-bind -fno-warn-type-defaults

  extensions: OverloadedStrings, ExtendedDefaultRules

  if flag(lifted)
     cpp-options: -DLIFTED

  build-depends:
    base                      >= 4.6,
    text                      >= 0.11,
    async,
    bytestring                >= 0.10,
    containers                >= 0.5.0.0,
    directory                 >= 1.1.0.0 && < 1.3.0.0,
    process                   >= 1.1.0,
    unix-compat               < 0.5,
    system-filepath           >= 0.4.7 && < 0.5,
    system-fileio             < 0.4,
    time                      >= 1.3 && < 1.6,
    mtl                       >= 2,
    HUnit                     >= 1.2,
    hspec                     >= 1.5,
    transformers,
    transformers-base,
    monad-control,
    lifted-base,
    lifted-async,
    enclosed-exceptions,
    exceptions                == 0.6.*

  extensions:
    CPP

-- demonstarated that command output in Shellish was not shown until after the command finished
-- not necessary anymore
Executable drain
  hs-source-dirs: examples
  main-is: drain.hs

  build-depends: base                      >= 4.6
               , shelly
               , text

  extensions:
    CPP

Executable run-handles
  hs-source-dirs: examples
  main-is: run-handles.hs

  build-depends: base                      >= 4.6
               , shelly
               , text

  extensions:
    CPP

Executable Color
  hs-source-dirs: examples
  main-is: color.hs

  build-depends: base                      >= 4.6
               , process
               , shelly
               , text
